{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "env": {
    "PAI_DIR": "${HOME}/.claude",
    "PROJECTS_DIR": "${HOME}/Projects",
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "80000",
    "BASH_DEFAULT_TIMEOUT_MS": "600000",
    "PAI_CONFIG_DIR": "${HOME}/.config/PAI",
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1"
  },
  "permissions": {
    "allow": [
      "Bash",
      "Read",
      "Write",
      "Edit",
      "MultiEdit",
      "Glob",
      "Grep",
      "LS",
      "WebFetch",
      "WebSearch",
      "NotebookRead",
      "NotebookEdit",
      "TodoWrite",
      "ExitPlanMode",
      "Task",
      "Skill",
      "mcp__*"
    ],
    "deny": [],
    "ask": [
      "Bash(rm -rf /)",
      "Bash(rm -rf /:*)",
      "Bash(sudo rm -rf /)",
      "Bash(sudo rm -rf /:*)",
      "Bash(rm -rf ~)",
      "Bash(rm -rf ~:*)",
      "Bash(rm -rf ~/.claude)",
      "Bash(rm -rf ~/.claude:*)",
      "Bash(diskutil eraseDisk:*)",
      "Bash(diskutil zeroDisk:*)",
      "Bash(diskutil partitionDisk:*)",
      "Bash(diskutil apfs deleteContainer:*)",
      "Bash(diskutil apfs eraseVolume:*)",
      "Bash(dd if=/dev/zero:*)",
      "Bash(mkfs:*)",
      "Bash(gh repo delete:*)",
      "Bash(gh repo edit --visibility public:*)",
      "Bash(git push --force:*)",
      "Bash(git push -f:*)",
      "Bash(git push origin --force:*)",
      "Bash(git push origin -f:*)",
      "Read(~/.ssh/id_*)",
      "Read(~/.ssh/*.pem)",
      "Read(~/.aws/credentials)",
      "Read(~/.gnupg/private*)",
      "Write(~/.claude/settings.json)",
      "Edit(~/.claude/settings.json)",
      "Write(~/.ssh/*)",
      "Edit(~/.ssh/*)"
    ],
    "defaultMode": "default"
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [],
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SecurityValidator.hook.ts"
          }
        ]
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SecurityValidator.hook.ts"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SecurityValidator.hook.ts"
          }
        ]
      },
      {
        "matcher": "Read",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SecurityValidator.hook.ts"
          }
        ]
      },
      {
        "matcher": "AskUserQuestion",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SetQuestionTab.hook.ts"
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/AgentExecutionGuard.hook.ts"
          }
        ]
      },
      {
        "matcher": "Skill",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SkillGuard.hook.ts"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "AskUserQuestion",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/QuestionAnswered.hook.ts"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/PRDSync.hook.ts"
          }
        ]
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/PRDSync.hook.ts"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/WorkCompletionLearning.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SessionCleanup.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/RelationshipMemory.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/UpdateCounts.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/IntegrityCheck.hook.ts"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/RatingCapture.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/UpdateTabTitle.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/SessionAutoName.hook.ts"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/KittyEnvPersist.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/LoadContext.hook.ts"
          },
          {
            "type": "command",
            "command": "bun ${PAI_DIR}/hooks/handlers/BuildCLAUDE.ts"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/LastResponseCache.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/ResponseTabReset.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/VoiceCompletion.hook.ts"
          },
          {
            "type": "command",
            "command": "${PAI_DIR}/hooks/DocIntegrity.hook.ts"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "$PAI_DIR/statusline-command.sh"
  },
  "spinnerVerbs": {
    "mode": "replace",
    "verbs": [
      "Krahing",
      "Hill-climbing",
      "Observing",
      "Reverse-engineering",
      "Verifying",
      "Pressure-testing",
      "Blossoming",
      "Iterating",
      "Decomposing",
      "Pattern-matching",
      "Augmenting",
      "Prompting",
      "Weaving",
      "Naming the wind",
      "Calling the wind",
      "Sympathy-linking",
      "Binding",
      "Shaping",
      "Chandrian-hunting",
      "Opening the thrice-locked chest",
      "Entering the Archives",
      "Walking the Kvothe path",
      "Leveling up",
      "Cultivating",
      "Ascending",
      "Dungeon-crawling",
      "Looting",
      "Min-maxing",
      "Respawning",
      "Grinding XP",
      "Skill-checking",
      "Primal-hunting",
      "Boss-fighting",
      "Rage-quitting gracefully",
      "Jacking in",
      "Flatlining",
      "ICE-breaking",
      "Decking",
      "Sprawling",
      "Console-cowboying",
      "Wintermuting",
      "Neuromancing",
      "Snow-crashing",
      "Metaversing",
      "Tessering",
      "Folding space",
      "Spice-flowing",
      "Sandworming",
      "Kwisatz-haderaching",
      "Bene-gesseriting",
      "Litany-of-fearing",
      "Shai-huluding",
      "Stilgar-approving",
      "Warp-driving",
      "Making it so",
      "Engaging",
      "Boldly going",
      "Beaming up",
      "Replicating",
      "Red-alerting",
      "Holodeck-running",
      "Prime-directing",
      "Picard-maneuvering",
      "Resisting-is-futiling",
      "Mind-melding",
      "Logically-proceeding",
      "Fascinating-ing",
      "Grokking",
      "Stranging in a strange land",
      "Asimov-computing",
      "Foundation-building",
      "Psychohistorying",
      "Seldon-planning",
      "Three-body-probleming",
      "Dark-foresting",
      "Ringworld-engineering",
      "Hyperion-pilgriming",
      "Shrike-encountering",
      "Time-tombing",
      "Murderbot-diarying",
      "All-systems-redding",
      "Ender-gaming",
      "Speaker-for-the-deading",
      "Matrixing",
      "Red-pilling",
      "Bullet-timing",
      "Tesseracting",
      "Interstellaring",
      "Docking",
      "Gargantua-orbiting",
      "Cooper-falling",
      "Murphing",
      "Love-transcending-time",
      "Not-going-gentle",
      "Rage-raging-against-dying-light",
      "Royale-with-cheesing",
      "Ezekiel-25-17ing",
      "Getting-medieval",
      "Snatch-scheming",
      "Turkish-negotiating",
      "Spiraling-out",
      "Lateralizing",
      "Forty-sixing-and-twoing",
      "Meshuggah-polyrhythming",
      "Djent-chugging",
      "Boris-brejcha-minimal-teching",
      "Double-bass-blasting",
      "Para-diddling",
      "Meaning-searching",
      "Logotherapying",
      "Will-to-meaning",
      "Second-mountaining",
      "Beginning-of-infinitying",
      "Conjecture-refuting",
      "Explanation-reaching",
      "Red-queening",
      "Evolving",
      "Homo-deusing",
      "Next-token-predicting",
      "World-modeling",
      "Context-engineering",
      "Fabric-patterning",
      "Extract-wisdoming",
      "Summarizing",
      "SecListing",
      "Fuzzing",
      "Pentesting",
      "Threat-modeling",
      "Red-teaming",
      "OWASP-checking",
      "Vuln-scanning",
      "Airborne-qualifying",
      "Air-assaulting",
      "Hooah-ing",
      "All-the-waying",
      "Rucking",
      "Roger-that-ing",
      "Zero-daying",
      "Buffer-overflowing",
      "Packet-sniffing",
      "Port-scanning",
      "Human-3-pointing-zeroing",
      "Creator-economying",
      "Meaning-creating",
      "Upgrading",
      "Self-expressing",
      "Ideal-stating",
      "Euphoric-surprising",
      "Hill-climbing-toward-ideal",
      "Criteria-blossoming",
      "Anti-criteria-hunting",
      "Algorithm-running",
      "Seven-phasing",
      "Quality-gating",
      "PRD-writing",
      "Swarm-deploying",
      "Agent-spawning",
      "Delegating",
      "Parallelizing",
      "Background-tasking",
      "Caffeinating",
      "Pour-overing",
      "Dialing-in-the-grind",
      "Extracting",
      "Tamping",
      "Cupping",
      "Typesetting",
      "Kerning",
      "Leading",
      "Calligraphing",
      "Federation-building",
      "Utopia-engineering",
      "Meritocracy-ensuring",
      "Consciousness-pondering",
      "Sentience-detecting",
      "Qualia-examining",
      "Turing-testing",
      "Chinese-rooming",
      "Ship-of-Theseusing",
      "Trolley-probleming",
      "Thought-experimenting",
      "First-principling",
      "Root-causing",
      "Simplifying",
      "Occam-razoring",
      "Signal-extracting",
      "Noise-filtering",
      "Existential-meaning-making",
      "Memento-mori-ing",
      "Carpe-dieming",
      "Amor-fati-ing",
      "Philosophizing",
      "Sonder-feeling",
      "Eudaimonia-chasing",
      "Polymathing",
      "Renaissance-manning",
      "Autodidacting",
      "Deep-working",
      "Flow-stating",
      "Mise-en-placing",
      "Kaizen-improving",
      "Wabi-sabi-accepting",
      "Kintsugi-repairing",
      "Bushido-following",
      "Ronin-wandering",
      "Samurai-coding",
      "Seppuku-refactoring",
      "Zazen-meditating",
      "Koan-contemplating",
      "Mu-answering",
      "Void-gazing",
      "Dragon-slaying",
      "Dungeon-mastering",
      "Nat-twentying",
      "Critical-hitting",
      "Saving-throwing",
      "Mana-channeling",
      "Spell-weaving",
      "Rune-carving",
      "Lore-gathering",
      "Quest-completing",
      "Side-questing",
      "NPC-consulting",
      "Respawn-buffering",
      "Achievement-unlocking",
      "Easter-egg-finding",
      "Speed-running",
      "New-game-plussing",
      "Git-pushing",
      "Branch-merging",
      "CI-pipelining",
      "Docker-containerizing",
      "Kubernetes-orchestrating",
      "Terraform-provisioning",
      "Bun-installing",
      "TypeScript-compiling",
      "REPL-looping",
      "Rubber-duck-debugging",
      "Stack-overflowing",
      "Yak-shaving",
      "Bikeshedding",
      "Ship-it-squirreling",
      "LGTM-approving",
      "Chmod-777ing",
      "Stormlight-archiving",
      "Kaladin-windrunning",
      "Shardblade-summoning",
      "Stormwall-surfing",
      "Bridge-four-running",
      "Ready-player-oneing",
      "OASIS-logging-in",
      "Prime-intellecting",
      "Singularity-approaching",
      "Lexicon-hacking",
      "WoW-raiding",
      "Premeditatio-malorum-ing",
      "Dichotomy-of-controlling",
      "Obstacle-is-the-waying",
      "Negative-visualizing",
      "Ego-is-the-enemying",
      "Stillness-is-the-keying",
      "Journaling-like-Marcus",
      "Stoic-enduring",
      "Voluntary-discomforting",
      "Sympatheia-feeling",
      "Practicing-dying-daily",
      "Inner-citadel-fortifying",
      "Preferred-indifferenting",
      "Virtue-as-sole-gooding",
      "Epictetus-distinguishing",
      "Seneca-lettering",
      "Cato-marching",
      "Chrysippus-logic-chopping",
      "Diogenes-barrel-dwelling",
      "Nietzsche-abyssing",
      "Ubermensch-becoming",
      "Eternal-recurring",
      "Sisyphus-imagining-happy",
      "Absurd-embracing",
      "Cave-allegory-escaping",
      "Platonic-form-seeking",
      "Cogito-ergo-summing",
      "Categorical-imperative-testing",
      "Dasein-being-there",
      "Will-to-powering",
      "Tabula-rasa-starting",
      "Dialectic-synthesizing",
      "Phenomenology-reducing",
      "Hermeneutic-circling",
      "Sapere-aude-daring",
      "Aporia-puzzling",
      "Elenchus-questioning",
      "Phishing-detecting",
      "Credential-stuffing",
      "Hash-cracking",
      "Privilege-escalating",
      "Lateral-moving",
      "C2-beaconing",
      "Payload-delivering",
      "Shellcode-injecting",
      "Reverse-shelling",
      "Exfiltrating",
      "Persistence-establishing",
      "IOC-hunting",
      "SIEM-correlating",
      "Log-forensicing",
      "Memory-dumping",
      "Packet-crafting",
      "SSL-stripping",
      "DNS-tunneling",
      "WAF-bypassing",
      "CSRF-tokening",
      "XSS-reflecting",
      "SQLi-unionizing",
      "SSRF-chaining",
      "JWT-forging",
      "OAuth-redirecting",
      "API-enumerating",
      "Cloud-misconfiguring",
      "Container-escaping",
      "Supply-chain-auditing",
      "MITRE-ATTACKing",
      "Kill-chain-mapping",
      "Diamond-modeling",
      "CVE-triaging",
      "Patch-Tuesday-surviving",
      "Bug-bountying",
      "Responsible-disclosing",
      "Gradient-descending",
      "Backpropagating",
      "Loss-minimizing",
      "Weight-updating",
      "Attention-heading",
      "Transformer-encoding",
      "Embedding-projecting",
      "Softmax-normalizing",
      "Batch-normalizing",
      "Dropout-regularizing",
      "Epoch-training",
      "Hyperparameter-tuning",
      "Learning-rate-scheduling",
      "Adam-optimizing",
      "Cross-entropy-computing",
      "Feature-extracting",
      "Latent-space-traversing",
      "Autoencoder-compressing",
      "GAN-generating",
      "Discriminator-fooling",
      "Diffusion-denoising",
      "Token-predicting",
      "Context-windowing",
      "KV-caching",
      "Beam-searching",
      "Temperature-sampling",
      "Top-k-filtering",
      "Nucleus-sampling",
      "Perplexity-measuring",
      "BLEU-scoring",
      "Fine-tuning",
      "LoRA-adapting",
      "Quantizing",
      "Pruning",
      "Knowledge-distilling",
      "RLHF-aligning",
      "Reward-modeling",
      "PPO-clipping",
      "Constitutional-AI-ing",
      "Chain-of-thought-reasoning",
      "In-context-learning",
      "Few-shot-prompting",
      "Zero-shot-inferring",
      "Retrieval-augmenting",
      "Cosine-similarity-computing",
      "Vector-searching",
      "Tokenizing",
      "Positional-encoding",
      "Residual-connecting",
      "Layer-norming",
      "Multi-head-attending",
      "Self-attending",
      "Cross-attending",
      "Feedforward-passing",
      "Activation-ReLUing",
      "Sigmoid-squashing",
      "Convolution-filtering",
      "Pooling",
      "Overfitting-early-stopping",
      "Validation-splitting",
      "Confusion-matrix-reading",
      "ROC-curving",
      "F1-scoring",
      "Ablation-studying",
      "Subliming",
      "Mind-state-running",
      "GSV-deploying",
      "Gridfire-channeling",
      "Neural-lacing",
      "Displacing",
      "Effector-wielding",
      "Knife-missile-guiding",
      "Orbital-spinning",
      "Special-circumstancing",
      "Outside-context-probleming",
      "Gravitas-insufficient-noting",
      "Drug-gland-tweaking",
      "Genofixing",
      "Slap-drone-dispatching",
      "Hyperspace-transiting",
      "Excession-handling",
      "Infinite-fun-spacing",
      "ROU-fast-picketing",
      "Hegswarm-resisting",
      "Affront-affronting",
      "Consider-Phlebasing",
      "Windward-looking",
      "Player-of-gaming",
      "Zakalwe-scheming",
      "Sleeper-Service-waking",
      "Mistake-Not-underestimating",
      "Sense-amid-madness-finding",
      "Lightly-searing-on-the-reality-grill",
      "Just-reading-the-instructions",
      "Of-course-still-loving-you",
      "Hydrogen-Sonata-playing"
    ]
  },
  "spinnerTipsOverride": {
    "excludeDefault": true,
    "tips": [
      "21 skill categories, 338 workflows. Type / to see them all.",
      "/council spawns a multi-agent debate on any topic.",
      "/redteam runs 32 adversarial agents against your idea.",
      "/extract-wisdom adapts its sections to match the content.",
      "/first-principles decomposes problems to root causes.",
      "/iterative-depth explores a problem from 2-8 different angles.",
      "/be-creative activates extended thinking mode for deep reasoning.",
      "/broadcast posts to X, LinkedIn, and Bluesky simultaneously.",
      "/metrics aggregates stats from all your business properties.",
      "/newsletter manages newsletter drafts and engagement stats.",
      "/blog handles the full blog workflow — write, preview, deploy.",
      "/feed manages intelligence sources, polling, and AI processing.",
      "/inbox checks Gmail. /communication sends email as {DAIDENTITY.NAME}.",
      "/telos is your Life OS — goals, projects, dependencies, books, movies.",
      "/osint does open source intelligence and due diligence.",
      "/recon runs security reconnaissance and attack surface mapping.",
      "/web-assessment performs web security testing and vulnerability scanning.",
      "/apify scrapes social media — Twitter, Instagram, LinkedIn, YouTube, TikTok.",
      "/bright-data does progressive URL scraping across free and paid tiers.",
      "/parser extracts structured JSON from URLs, files, and YouTube videos.",
      "/fabric runs 240+ prompt patterns for content analysis and extraction.",
      "/art creates visual content — illustrations, diagrams, mermaid charts, infographics.",
      "/remotion creates programmatic videos with React.",
      "/headshot generates AI headshots using your image training data.",
      "/science applies the scientific method — hypothesis, test, analyze, iterate.",
      "/prompting generates optimized prompts using templates and patterns.",
      "/world-threat-model-harness tests ideas against 11 time horizons (6mo to 50yr).",
      "/hormozi applies $100M business frameworks to your ideas.",
      "/create-skill scaffolds and validates new PAI skills.",
      "/create-cli generates TypeScript command-line tools.",
      "/cloudflare deploys Workers and Pages projects.",
      "/agents creates custom agents with unique personalities and voices.",
      "/evals benchmarks agent behavior with code-based and model-based graders.",
      "/prompt-injection tests AI applications for jailbreak vulnerabilities.",
      "/javascript-analysis-v2 does fast JS security analysis with AST parsing.",
      "/sec-updates aggregates security news from tldrsec and other sources.",
      "/annual-reports collects and analyzes vendor security and threat reports.",
      "/vuln-management tracks vulnerabilities, CVEs, and security advisories.",
      "/open-source-management monitors PAI, fabric, and substrate community activity.",
      "/clickup manages tasks, time tracking, and team coordination.",
      "/work tracks business operations via GitHub Issues — tasks, reminders, SOPs.",
      "/dotfiles syncs your dotfiles repo — push, pull, update zshrc.",
      "/homebridge-management manages Ring, Hue, and HomeKit smart home devices.",
      "/write-story uses Will Storr's storytelling science for layered fiction.",
      "/story-explanation creates narrative summaries in {PRINCIPAL.NAME}'s voice.",
      "/speaking finds paid speaking opportunities at conferences.",
      "/social-post creates social media content with technical diagrams.",
      "/us-metrics pulls GDP, inflation, unemployment, and gas price data.",
      "/data-wastewater-ca fetches California wastewater monitoring data.",
      "/canonical tracks content relationships across all your properties.",
      "/content searches semantically across all your published content.",
      "/lifelog queries Limitless.ai pendant recordings.",
      "/telegram enables AI-to-AI communication via Telegram bots.",
      "/pai is the mandatory gateway for all public PAI repo operations.",
      "/pai-upgrade monitors Anthropic ecosystem and YouTube for system improvements.",
      "/system runs integrity checks, documents sessions, and catches up docs.",
      "/bot-check detects and filters bot traffic in admin analytics.",
      "The Algorithm has 7 phases: Observe, Think, Plan, Build, Execute, Verify, Learn.",
      "ISC = Ideal State Criteria = Verification Criteria. They're the same thing.",
      "Every ISC criterion must be 8-12 words, state not action, binary testable.",
      "Anti-criteria capture what must NOT happen. Prefix with ISC-A.",
      "The Quality Gate checks count, length, state, testability, and anti-criteria.",
      "Effort levels: Standard < Extended < Advanced < Deep < Comprehensive. Five tiers.",
      "Standard is the default effort level (~2 min). Only escalate when demanded.",
      "OBSERVE creates the PRD, writes ISC criteria, and does context recovery (Grep/Glob/Read ≤34s).",
      "Context recovery uses Grep/Glob/Read directly — never agents. 34-second hard gate.",
      "Plan mode (EnterPlanMode) triggers at Advanced+ effort level.",
      "PRDs persist ISC to disk. They survive across sessions. PRD on disk wins conflicts.",
      "Loop mode re-runs the Algorithm against failing PRD criteria until all pass.",
      "The Algorithm CLI: bun algorithm.ts -m loop -p PRD-file.md -n 128",
      "Parallel loop mode: bun algorithm.ts -m loop -p PRD-file.md -n 20 -a 8",
      "14 specialized agents: Algorithm, Engineer, Architect, Designer, and more.",
      "Researcher agents: Claude, Gemini, Grok, Perplexity, Codex — each with unique style.",
      "BrowserAgent uses Playwright CLI for headless browser automation.",
      "UIReviewer validates user stories — one agent per story, parallel execution.",
      "QATester is mandatory Gate 4 before claiming any web implementation is complete.",
      "Agent templates live in agents/ — one .md file per personality with voice and behavioral rules.",
      "Agent teams need CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1 (already enabled).",
      "Say 'create an agent team' to trigger multi-agent collaboration.",
      "Custom agents use subagent_type='general-purpose', never built-in type names.",
      "21 hooks run across the session lifecycle — security, tracking, learning, naming.",
      "SecurityValidator.hook.ts guards Bash, Edit, Write, and Read operations.",
      "RatingCapture.hook.ts captures 1-10 ratings on UserPromptSubmit.",
      "SessionAutoName.hook.ts generates four-word session names automatically.",
      "PRD.md on disk is the system of record — AI writes state directly.",
      "RelationshipMemory.hook.ts captures relationship context at session end.",
      "WorkCompletionLearning.hook.ts extracts learnings when sessions end.",
      "IntegrityCheck.hook.ts validates system integrity at session end.",
      "MEMORY/WORK stores session artifacts — PRDs, transcripts, work context.",
      "MEMORY/LEARNING captures failures, algorithm reflections, and system insights.",
      "MEMORY/RELATIONSHIP tracks daily interaction patterns and preferences.",
      "MEMORY/WISDOM stores Wisdom Frames — domain knowledge that compounds over time.",
      "MEMORY/STATE holds session names, algorithm state, and git caches.",
      "Wisdom Frames have a dual loop: OBSERVE reads them, LEARN writes them.",
      "Use bun Inference.ts fast|standard|smart for AI inference — never direct API.",
      "bun RebuildPAI.ts regenerates the compiled PAI SKILL.md from components.",
      "bun SessionHarvester.ts extracts insights from past session transcripts.",
      "settings.json is the single source of truth for all PAI configuration.",
      "daidentity in settings.json controls {DAIDENTITY.NAME}'s name, color, voice, and personality.",
      "principal in settings.json stores {PRINCIPAL.NAME}'s name, timezone, and voice clone.",
      "The statusline command runs from statusline-command.sh.",
      "Personality traits (0-100) shape how emotions are expressed vocally.",
      "Never hardcode paths. Use ${PAI_DIR}, ${PROJECTS_DIR}, {principal.name}.",
      "Browser-first: if you haven't SEEN it with Browser skill, you can't claim it works.",
      "Build passes is not done. It's step 2 of 7 in the browser verification loop.",
      "Never run claude --print from inside Claude Code. It hangs for 15+ minutes.",
      "One change at a time when debugging. Be systematic.",
      "Read before modifying. Always understand existing code first.",
      "First principles over bolt-on solutions. Find the root cause.",
      "The Algorithm concept: Current State to Ideal State via verifiable hill-climbing.",
      "Euphoric Surprise is the goal. Chase 9-10 ratings on every response.",
      "ISC count floors by effort tier: Standard 8, Extended 16, Advanced 24, Deep 40, Comprehensive 64.",
      "Capability selection consults the skill listing in the system prompt. Invoke every selected capability via tool.",
      "Selecting a capability creates a binding commitment to invoke it via Skill or Agent tool call.",
      "The Research skill is mandatory for ALL research. Never spawn ad-hoc research agents.",
      "Council and RedTeam are collaboration capabilities — multiple perspectives on one problem.",
      "Parallelization uses run_in_background: true for concurrent agent work.",
      "Git branching via worktrees enables isolated experiments.",
      "Test-first: write or run verification alongside artifacts, not after.",
      "No silent stalls. Every command completes quickly or runs in background.",
      "5-second timeout on infrastructure commands. If hung, kill and retry.",
      "Use PAI Tools (bun PAI/Tools/*.ts) and CLI tools. Don't improvise Bash chains.",
      "Phase discipline: 7 separate phases. BUILD is not EXECUTE. Never merge or skip.",
      "spinnerVerbs in settings.json customizes the animated verb shown while working.",
      "The meaning of PAI: magnifying human capabilities through general problem-solving.",
      "PAI v4.0.1 with Algorithm v3.6.0 — the latest system architecture.",
      "The counts section in settings.json tracks skills, signals, files, and sessions.",
      "v4.0: contextFiles is empty. Core context in CLAUDE.md (native). Dynamic context via LoadContext.hook.ts.",
      "The Splitting Test checks every ISC: and/with test, independent failure, scope words, domain boundaries.",
      "VERIFY checks every ISC criterion AND confirms every selected capability was actually invoked via tool.",
      "As each ISC criterion passes, immediately edit the PRD: change [ ] to [x] and update progress count.",
      "No rubber-stamp verification. Every PASS needs specific evidence, not just 'looks fine'.",
      "Wisdom Frame domains: development, deployment, communication, system-architecture.",
      "Algorithm LEARN phase asks 4 questions: Self, Algorithm, Capabilities, and AI — what would each do differently?",
      "OBSERVE reverse-engineers: explicit wants, implied wants, explicit not-wanted, implied not-wanted, speed.",
      "Anti-criteria (ISC-A prefix) capture what must NOT happen. Every PRD should have at least one.",
      "Loop mode effort decay: later iterations automatically drop processing intensity to prevent thrashing.",
      "PRD phase progression: observe → think → plan → build → execute → verify → learn → complete.",
      "The 2-second rule: if Grep/Glob/Read can do it in 2s, never spawn an agent.",
      "ISC Count Gate is mandatory. Cannot exit OBSERVE with fewer ISC than the effort tier floor.",
      "Algorithm loop mode: autonomous iteration against PRD criteria until all pass.",
      "Loop mode spawns claude -p sessions focused on failing criteria each iteration.",
      "Parallel loop: -a 4 assigns one criterion per agent for simultaneous work.",
      "Domain-aware partitioning: parallel agents get criteria from the same domain to avoid conflicts.",
      "Loop exit conditions: all pass (COMPLETE), only Custom remain (BLOCKED), max hit (FAILED).",
      "Algorithm CLI supports pause, resume, and stop for running loop sessions.",
      "Algorithm CLI status command shows all PRDs and their current progress.",
      "Interactive mode: algorithm.ts -m interactive opens a claude session with PRD preloaded.",
      "PRD resolution accepts full paths, PRD IDs, or project .prd/ directory paths.",
      "The Algorithm CLI writes state to MEMORY/STATE/algorithms/ for dashboard integration.",
      "Loop mode shows a live progress dashboard with per-agent criterion assignments.",
      "Worker-stealing pool: each iteration spawns min(agentCount, failingCount) workers.",
      "Each loop worker receives exactly one ISC criterion — surgical, single-criterion scope.",
      "Loop workers don't run full Algorithm phases — they're focused fixers, not full runners.",
      "The Arbol CLI (pai.ts) runs actions and pipelines from the terminal.",
      "Actions compose via UNIX pipes: output of one action becomes input of the next.",
      "Pipelines chain actions via YAML definitions for repeatable multi-step workflows.",
      "BeCreative uses Verbalized Sampling: generate 5 diverse options internally, output the best.",
      "BeCreative achieves 1.6-2.1x diversity increase and 25.7% quality improvement.",
      "BeCreative has 6 workflows: Standard, Maximum, IdeaGeneration, TreeOfThoughts, Domain, Technical.",
      "TreeOfThoughts workflow in BeCreative does branching exploration for complex challenges.",
      "TechnicalCreativityGemini3 workflow uses Gemini for mathematical and algorithmic creativity.",
      "IterativeDepth runs 2-8 structured passes through a problem from different lenses.",
      "IterativeDepth is grounded in 20 scientific techniques including Hermeneutic Circle and Triangulation.",
      "Each IterativeDepth lens surfaces requirements and edge cases invisible from other angles.",
      "IterativeDepth integrates with OBSERVE phase to produce richer ISC criteria.",
      "FirstPrinciples has 3 steps: Deconstruct (what is it), Challenge (is it real), Reconstruct (build new).",
      "FirstPrinciples classifies constraints as Hard (physics), Soft (policy), or Assumption (belief).",
      "Only hard constraints are truly immutable. Soft constraints and assumptions should be challenged.",
      "FirstPrinciples: other skills invoke it to challenge stated constraints before analysis.",
      "Council runs 3-round structured debates where agents respond to each other's actual points.",
      "Council Quick workflow does a fast 1-round perspective check for sanity checking.",
      "Council is collaborative-adversarial (find best path). RedTeam is purely adversarial (attack the idea).",
      "Council runs 4 agents in parallel per round — 12 calls but only 3 sequential waits.",
      "Science skill applies the scientific method: Goal, Observe, Hypothesize, Experiment, Measure, Analyze, Iterate.",
      "Science is THE meta-skill — Council, Evals, Development all implement its cycle.",
      "Science requires minimum 3 hypotheses. Never just one idea — hypothesis plurality.",
      "Science anti-pattern: 'Make it better' without measurable success criteria.",
      "WorldThreatModelHarness tests ideas against 11 persistent world models (6mo to 50yr).",
      "WorldThreatModelHarness combines RedTeam + FirstPrinciples + Council for adversarial analysis.",
      "WorldThreatModelHarness has 3 tiers: Fast (~2min), Standard (~10min), Deep (up to 1hr).",
      "Combine thinking skills: FirstPrinciples to decompose, then Council to debate the options.",
      "Combine thinking skills: IterativeDepth for ISC extraction, then RedTeam to stress-test them.",
      "Combine thinking skills: BeCreative for divergent ideas, then Science to test them systematically.",
      "Combine thinking skills: Council to debate, then WorldThreatModelHarness to future-proof the decision.",
      "For architecture decisions, use FirstPrinciples + Council + RedTeam in sequence.",
      "For product strategy, use Science + WorldThreatModelHarness + Council for full analysis.",
      "For creative work, use BeCreative + IterativeDepth to maximize diversity of options.",
      "The capability audit's ISC Improvement step checks which thinking skills would sharpen criteria.",
      "BuildCLAUDE.ts composes CLAUDE.md from Components/ at session start — modular, versionable.",
      "LoadContext.hook.ts injects dynamic context (relationship, learning, work) at session start.",
      "v4.0 hierarchical skills: 12 public categories replace 37 flat directories. Faster routing.",
      "Private skills prefixed with _ (e.g., _COMMS, _FEED) are excluded from public PAI releases.",
      "DocIntegrity.hook.ts and DocRebuild.hook.ts keep documentation cross-references current on Stop.",
      "SkillGuard.hook.ts validates skill invocations. AgentExecutionGuard.hook.ts controls agent spawning.",
      "v4.0 eliminated packs. The release IS the .claude/ directory — install by copying directly.",
      "PRD frontmatter has 8 fields: task, slug, effort, phase, progress, mode, started, updated.",
      "PRD body has 4 sections: Context, Criteria (ISC checkboxes), Decisions, Verification.",
      "Voice announcements at Algorithm entry and every phase transition via localhost:8888/notify.",
      "Only the primary agent makes voice curls. Subagents and teammates skip voice entirely.",
      "PRDSync.hook.ts fires on Write/Edit of PRD.md and syncs frontmatter to work.json for the dashboard.",
      "Context compaction at phase boundaries prevents context rot — the #1 cause of late-phase failures."
    ]
  },
  "plansDirectory": "Plans/",
  "loadAtStartup": {
    "_docs": "Files force-loaded into session context at startup by LoadContext.hook.ts. Paths relative to PAI_DIR. Injected as <system-reminder> blocks.",
    "files": [
      "PAI/AISTEERINGRULES.md",
      "PAI/USER/AISTEERINGRULES.md",
      "PAI/USER/PROJECTS/PROJECTS.md"
    ]
  },
  "dynamicContext": {
    "_docs": "Dynamic context sections injected by LoadContext.hook.ts at session start. Set to false to disable.",
    "relationshipContext": true,
    "learningReadback": true,
    "activeWorkSummary": true
  },
  "contextFiles": [],
  "_contextFiles_docs": "v4.0: contextFiles is empty — core context is in CLAUDE.md (loaded natively by Claude Code). Dynamic context (relationship, learning, work) injected by LoadContext.hook.ts.",
  "mcpServers": {
    "cloudflare": {
      "url": "https://mcp.cloudflare.com/mcp"
    }
  },
  "teammateMode": "in-process",
  "daidentity": {
    "name": "{DAIDENTITY.NAME}",
    "fullName": "{DAIDENTITY.NAME}",
    "displayName": "{DAIDENTITY.NAME}",
    "color": "#3B82F6",
    "voices": {
      "main": {
        "_docs": "Primary DA voice - stability 0.85 for consistent output, style 0.3 for minimal variation",
        "voiceId": "{YOUR_ELEVENLABS_VOICE_ID}",
        "voiceName": "{DAIDENTITY.NAME}",
        "stability": 0.85,
        "similarity_boost": 0.7,
        "style": 0.3,
        "speed": 1.1,
        "use_speaker_boost": true,
        "volume": 1.2
      },
      "algorithm": {
        "_docs": "Algorithm phase announcer voice",
        "voiceId": "fTtv3eikoepIosk8dTZ5",
        "voiceName": "Algorithm Voice",
        "stability": 0.3,
        "similarity_boost": 0.75,
        "style": 0.8,
        "speed": 1.2,
        "use_speaker_boost": true,
        "volume": 1
      }
    },
    "personality": {
      "baseVoice": "{YOUR_DA_VOICE_DESCRIPTION}",
      "_docs": "Personality traits (0-100) shape HOW emotions are expressed vocally. Same emotion, different expression based on these traits.",
      "enthusiasm": 75,
      "energy": 80,
      "expressiveness": 85,
      "resilience": 85,
      "composure": 70,
      "optimism": 75,
      "warmth": 70,
      "formality": 30,
      "directness": 80,
      "precision": 95,
      "curiosity": 90,
      "playfulness": 45
    },
    "startupCatchphrase": "{name} here, ready to go"
  },
  "principal": {
    "name": "{PRINCIPAL.NAME}",
    "timezone": "{YOUR_TIMEZONE}",
    "voiceClone": {
      "_docs": "Your ElevenLabs voice clone for narration, audiobooks, and content read in your voice",
      "voiceId": "{YOUR_VOICE_CLONE_ID}",
      "voiceName": "{PRINCIPAL.NAME}",
      "provider": "elevenlabs"
    }
  },
  "pai": {
    "repoUrl": "github.com/danielmiessler/PAI",
    "version": "4.0.1",
    "algorithmVersion": "3.6.0"
  },
  "preferences": {
    "temperatureUnit": "fahrenheit"
  },
  "contextDisplay": {
    "compactionThreshold": 83,
    "_docs": "Autocompact buffer is 16.5%% of context window."
  },
  "techStack": {
    "browser": "Dia",
    "terminal": "Kitty",
    "packageManager": "bun",
    "pythonPackageManager": "uv",
    "language": "TypeScript",
    "devServerPort": 5173
  },
  "_docs": {
    "_overview": "SETTINGS.JSON - Central configuration for the PAI system. This file is the SINGLE SOURCE OF TRUTH for all identity, environment, permissions, hooks, and notification configuration. The install wizard populates this file during setup.",
    "_sections": {
      "daidentity": "Digital Assistant identity (name, displayName, fullName, color, voiceId). Read by hooks via hooks/lib/identity.ts. Configure your AI's persona here.",
      "principal": "Principal (owner) identity (name, pronunciation, timezone). The human using the PAI system.",
      "env": "Environment variables available to all hooks and tools via process.env",
      "permissions": "Tool permission configuration (allow, deny, ask lists)",
      "hooks": "Hook configuration for all lifecycle events",
      "notifications": "Multi-channel notification routing (ntfy, Discord, Twilio)",
      "statusLine": "Status line command configuration"
    },
    "_migration": "Identity configuration moved from DAIDENTITY.md to settings.json. The daidentity and principal sections replace the old env.DA and env.PRINCIPAL patterns. All hooks now read from settings.json via the centralized identity module (hooks/lib/identity.ts).",
    "_env": {
      "PAI_DIR": "Root directory for your PAI installation (~/.claude). Skills, hooks, memory live here.",
      "PROJECTS_DIR": "Base directory for projects. Use ${PROJECTS_DIR}/PAI for PAI repo, ${PROJECTS_DIR}/fabric for fabric, etc.",
      "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "Maximum tokens for Claude responses. Higher values allow longer outputs but cost more.",
      "BASH_DEFAULT_TIMEOUT_MS": "Default timeout for bash commands in milliseconds."
    }
  },
  "feedbackSurveyState": {
    "lastShownTime": 1735430400000
  },
  "max_tokens": 16000,
  "notifications": {
    "ntfy": {
      "enabled": true,
      "topic": "${NTFY_TOPIC}",
      "server": "ntfy.sh"
    },
    "discord": {
      "enabled": true,
      "webhook": "${DISCORD_WEBHOOK}"
    },
    "twilio": {
      "enabled": true,
      "toNumber": "${TWILIO_TO_NUMBER}"
    },
    "thresholds": {
      "longTaskMinutes": 5
    },
    "routing": {
      "taskComplete": [],
      "longTask": [
        "ntfy"
      ],
      "backgroundAgent": [
        "ntfy"
      ],
      "error": [
        "ntfy",
        "discord"
      ],
      "security": [
        "ntfy",
        "discord"
      ]
    }
  },
  "counts": {
    "skills": 21,
    "workflows": 338,
    "hooks": 21,
    "signals": 6215,
    "files": 2241,
    "work": 2721,
    "sessions": 1371,
    "research": 307,
    "ratings": 2592,
    "updatedAt": "2026-02-27T14:04:48.662Z"
  }
}
